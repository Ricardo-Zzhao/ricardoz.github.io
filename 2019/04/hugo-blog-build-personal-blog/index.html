<!doctype html><html lang=zh-cn dir=content/zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=content-security-policy content="upgrade-insecure-requests"><title>hugo搭建个人博客1-基础建站 - 书藏的博客</title><meta name=keywords content="博客,程序员,区块链，思考,读书,笔记,生活,电影,旅游,"><meta name=author content="书藏"><meta property="og:title" content="hugo搭建个人博客1-基础建站"><meta property="og:site_name" content="书藏的博客"><meta property="og:image" content="/img/avatar.png"><meta name=title content="hugo搭建个人博客1-基础建站 - 书藏的博客"><meta name=description content="书藏的个人博客，记录学习的东西，以月刊记录生活"><link rel="shortcut icon" href=/img/favicon.ico><link rel=apple-touch-icon href=/img/apple-touch-icon.png><link rel=apple-touch-icon-precomposed href=/img/apple-touch-icon.png><link href=//cdn.bootcdn.net/ajax/libs/font-awesome/4.6.2/css/font-awesome.min.css rel=stylesheet type=text/css><link href=//cdn.bootcdn.net/ajax/libs/imageviewer/0.1.0/viewer.min.css rel=stylesheet><link href=/css/main.css rel=stylesheet type=text/css><link href=/css/syntax.css rel=stylesheet type=text/css><script async src="https://www.googletagmanager.com/gtag/js?id=UA-209130979-1"></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-209130979-1 ');</script></head><body itemscope itemtype=http://schema.org/WebPage lang=zh-hans><div class="container one-collumn sidebar-position-left page-home"><div class=headband></div><header id=header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle role=button style=opacity:1;top:0><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div></div><div class=site-meta><div class=multi-lang-switch><i class="fa fa-fw fa-language" style=margin-right:5px></i><a class=lang-link id=zh-cn href=#>中文</a></div><div class=custom-logo-site-title><a href=/ class=brand rel=start><span class=logo-line-before><i></i></span><span class=site-title>书藏的博客</span>
<span class=logo-line-after><i></i></span></a></div><p class=site-subtitle>凡心所向，素履以往</p></div><div class=site-nav-right><div class="toggle popup-trigger" style=opacity:1;top:0><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul id=menu class=menu><li class=menu-item><a href=/ rel=section><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class=menu-item><a href=/post rel=section><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class=menu-item><a href=/about.html rel=section><i class="menu-item-icon fa fa-fw fa-user"></i><br>关于我</a></li><li class=menu-item><a href=/404.html rel=section><i class="menu-item-icon fa fa-fw fa-heartbeat"></i><br>公益404</a></li><li class="menu-item menu-item-search"><a href=javascript:; class=popup-trigger><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class=site-search><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class=search-icon><i class="fa fa-search"></i></span><span class=popup-btn-close><i class="fa fa-times-circle"></i></span><div class=local-search-input-wrapper><input autocomplete=off placeholder=搜索关键字... spellcheck=false type=text id=local-search-input autocapitalize=none autocorrect=off></div></div><div id=local-search-result></div></div></div></nav></div></header><main id=main class=main><div class=main-inner><div class=content-wrap><div id=content class=content><section id=posts class=posts-expand><article class="post post-type-normal" itemscope itemtype=http://schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline"><a class=post-title-link href=https://shuzang.github.io/2019/04/hugo-blog-build-personal-blog/ itemprop=url>hugo搭建个人博客1-基础建站</a></h1><div class=post-meta><span class=post-time><i class="fa fa-calendar-o fa-fw"></i><span class=post-meta-item-text>时间：</span>
<time itemprop=dateCreated datetime=2016-03-22T13:04:35+08:00 content="2019-04-26">2019-04-26</time></span>
<span class=post-category>&nbsp; | &nbsp;
<i class="fa fa-folder-o fa-fw"></i><span class=post-meta-item-text>分类：</span>
<span itemprop=about itemscope itemtype=https://schema.org/Thing><a href=/categories/%E7%88%B1%E7%BC%96%E7%A8%8B%E7%88%B1%E6%8A%80%E6%9C%AF%E7%9A%84%E5%AD%A9%E5%AD%90 itemprop=url rel=index style=text-decoration:underline><span itemprop=name>爱编程爱技术的孩子</span></a>
&nbsp;</span></span>
<span>|
<i class="fa fa-file-word-o fa-fw"></i><span class=post-meta-item-text>字数：</span>
<span class=leancloud-world-count>5478 字</span></span>
<span>|
<i class="fa fa-eye fa-fw"></i><span class=post-meta-item-text>阅读：</span>
<span class=leancloud-view-count>11分钟</span></span>
<span id=/2019/04/hugo-blog-build-personal-blog/ class=leancloud_visitors data-flag-title=hugo搭建个人博客1-基础建站>|
<i class="fa fa-binoculars fa-fw"></i><span class=post-meta-item-text>阅读次数：</span>
<span class=leancloud-visitors-count></span></span></div></header><div class=post-body itemprop=articleBody><p><a href=https://gohugo.io/>Hugo</a> 是由 Go 语言实现的静态网站生成器，可以快速建立一个静态网站，虽然多数情况下用来搭建个人博客，但也可以用作展示在线书籍、个人简历等。在使用 Hugo 之前，我一直使用 Hexo 搭建个人博客，促使我更换工具的原因主要有两个</p><ol><li>文章数量较多时，Hexo 生成速度非常慢，同样的文章数量下，Hugo 渲染文章几乎是即时的；</li><li>Hexo 依赖于 Node.js，使用需要在电脑里安装 node 和 npm。另外，Hexo 允许开发者提供各种 npm 模块来增强其功能，这种做法虽然使 Hexo 扩展性极高，但在博客的维护、备份和恢复等方面都带来了极大的不便。Hugo 使用 Go 开发，不依赖任何其它模块，只需要按照 Hugo 这一个软件即可。</li></ol><p>综上，我选择将博客网站迁移到 Hugo，这个系列的文章用来记录 Hugo 使用种遇到的问题和积累的经验。本文是第一篇，介绍博客网站搭建的过程和一些基础配置。</p><h2 id=1-安装hugo>1. 安装Hugo</h2><p>详细的安装说明参见<a href=https://gohugo.io/getting-started/quick-start/>官方文档</a>，这里简单介绍 win10 和 Ubuntu18.04 的快速安装。</p><p>win10下可自行从官网下载软件包安装，也可以使用 <a href=https://chocolatey.org/>chocolatey</a> 包管理工具快速安装</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#080;font-style:italic># 更新chocolatey到最新</span>
&gt; choco upgrade chocolatey

<span style=color:#080;font-style:italic># 安装hugo-extended，因为将要使用的主题使用scss</span>
&gt; choco install hugo-extended -y

<span style=color:#080;font-style:italic># 检查安装</span>
&gt; choco list --local
chocolatey 0.10.15
hugo-extended 0.58.3
<span style=color:#666>2</span> packages installed.
</code></pre></div><p>Ubuntu下使用 apt-get 会安装低版本 Hugo，因此使用 snap 安装</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ snap install hugo --channel<span style=color:#666>=</span>extended
hugo <span style=color:#666>(</span>extended/stable<span style=color:#666>)</span> 0.58.3 from Hugo Authors installed
</code></pre></div><p>注意要安装 extended 版本，主要是因为很多主题都需要扩展版的功能，如果确认自己的主题不需要(阅读主题说明)，可以按照正常的版本。</p><h2 id=2-生成博客网站>2. 生成博客网站</h2><p>执行下面的命令在本地生成博客网站项目文件夹，该文件夹是这一系列文章之后所有操作执行的根目录(简称为项目根目录)，我建立的项目文件夹名为 shuzang.github.io （因为之后要使用 <a href=https://pages.github.com/>Github Pages</a> 托管博客）。</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ hugo new site shuzang.github.io
$ <span style=color:#a2f>cd</span> shuzang.github.io
</code></pre></div><p>blog 文件夹的目录结构如下所示，其中各文件夹的作用我们将在之后的使用过程中逐步了解</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ ls
archetypes/  config.toml  content/  data/  layouts/  static/  themes/
</code></pre></div><h2 id=3-托管到github>3. 托管到Github</h2><p>将本地的项目文件夹初始化为 Github 仓库</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span>$</span> git init
<span>$</span> git add .
<span>$</span> git commit <span style=color:#666>-</span>m <span style=color:#b44>&#34;Initial commit&#34;</span>
</code></pre></div><p>浏览器打开 Github 网站，创建和项目文件夹同名的仓库，该仓库用于存储项目文件夹下所有内容。创建完成后，在本地项目根目录，执行下列命令，将项目文件推送到远程仓库。</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git remote add origin https://github.com/shuzang/shuzang.github.io.git
$ git push -u origin master
</code></pre></div><p>关于网页如何托管在Github的详细说明可以参考<a href=https://gohugo.io/hosting-and-deployment/hosting-on-github/>Host on Github</a></p><h3 id=31-源码备份>3.1 源码备份</h3><p>按照 Hugo 的生成规则，执行 <code>hugo</code> 命令后，网站静态文件将会生成在 <code>public</code> 文件夹。但由于我们使用 Github Pages 托管博客网站，该功能启用后 Github 仓库只会从 <code>master branch</code> 或 <code>master branch /docs folder</code> 读取网站源码。</p><p>我们解决这一问题的方法是新建 <code>blog</code> 分支将博客源码放在该分支下，利用 Github Action 将 <code>public</code> 目录下的网站文件推送到 <code>master</code> 分支。首先在本地项目根目录下执行下列命令新建并切换到 <code>blog</code> 分支</p><p>注：Github Action 的说明见附录I</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git checkout -b blog
$ git branch
* blog
  master

<span style=color:#080;font-style:italic># 设置本地blog分支追踪远程blog分支</span>
$ git branch --set-upstream blog origin/blog
<span style=color:#080;font-style:italic># 查看分支跟踪关系</span>
$ git branch -vv
* blog   c63526c <span style=color:#666>[</span>origin/blog<span style=color:#666>]</span> Update posts
</code></pre></div><p>将本地 <code>blog</code> 分支的内容推送到远程仓库后，在网页端进入<code>shuzang.github.io</code>仓库的设置页面，将默认分支设置为 <code>blog</code> 分支。</p><p><img src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HePXR.png alt=设置默认分支></p><h3 id=32-推送到master分支>3.2 推送到master分支</h3><p>首先生成公私钥供 Github Action 使用</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>ssh-keygen -t rsa -b <span style=color:#666>4096</span> -C <span style=color:#b44>&#34;</span><span style=color:#a2f;font-weight:700>$(</span>git config user.email<span style=color:#a2f;font-weight:700>)</span><span style=color:#b44>&#34;</span> -f blog -N <span style=color:#b44>&#34;&#34;</span>
<span style=color:#080;font-style:italic># You will get 2 files in current file:</span>
<span style=color:#080;font-style:italic>#   blog.pub (public key)</span>
<span style=color:#080;font-style:italic>#   blog     (private key)</span>
</code></pre></div><p>然后进入 <code>shuzang.github.io</code> 仓库设置页面，在 <code>Deploy Keys</code> 中添加公钥，在 <code>Secrets</code> 中添加私钥，私钥名设置为 <code>ACTIONS_DEPLOY_KEY</code></p><p>接着新建 YAML 配置文件，Github Action 要求配置文件位于 <code>.github/workflows</code> 目录下，新建完成后目录结构如下</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ ls ./.github/workflows
main.yml
</code></pre></div><p>Github Action使用一种模块化的思路，即将很多持续集成的操作写成独立的脚本文件，放到代码仓库，让其它开发者使用。因此进行持续集成时，可以直接引用别人写好的 action，整个持续集成的过程，就是一个 actions 组合的过程。GitHub 做了一个<a href="https://github.com/marketplace?type=actions">官方市场</a>，可以搜索到他人提交的 actions。另外，还有一个 <a href=https://github.com/sdras/awesome-actions>awesome actions</a> 的仓库，也可以找到不少 action。</p><p>我们的基本思路如下</p><ol><li>整个流程在 blog 分支 push 时触发</li><li>只有一个job，运行在ubuntu-18.04环境下</li><li>使用 <a href=https://github.com/actions/checkout>official action: checkout</a> 获取仓库源码，注意添加参数clone主题子模块</li><li>使用 <a href=https://github.com/peaceiris/actions-hugo>peaceiris/actions-hugo: GitHub Actions for Hugo</a> 部署 hugo 环境，注意使用 <code>extentded</code> 版本（主题要求）</li><li>直接执行 hugo 命令</li><li>使用 <a href=https://github.com/peaceiris/actions-gh-pages>peaceiris/actions-gh-pages</a> 将当前分支<code>public</code>目录下的内容部署到master分支，</li></ol><p>完整的<code>main.yml</code>脚本内容如下</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#a2f;font-weight:700>name</span>:<span style=color:#bbb> </span>hugo<span style=color:#bbb> </span>push<span style=color:#bbb> </span>to<span style=color:#bbb> </span>github<span style=color:#bbb> </span>pages<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>on</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#bbb>  </span><span style=color:#a2f;font-weight:700>push</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#bbb>    </span><span style=color:#a2f;font-weight:700>branches</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#bbb>    </span>- blog<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>jobs</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#bbb>  </span><span style=color:#a2f;font-weight:700>build-deploy</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#bbb>    </span><span style=color:#a2f;font-weight:700>runs-on</span>:<span style=color:#bbb> </span>ubuntu<span style=color:#666>-18.04</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#a2f;font-weight:700>steps</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#bbb>    </span>- <span style=color:#a2f;font-weight:700>uses</span>:<span style=color:#bbb> </span>actions/checkout@v1<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#a2f;font-weight:700>with</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#bbb>        </span><span style=color:#a2f;font-weight:700>submodules</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>true</span><span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span>- <span style=color:#a2f;font-weight:700>name</span>:<span style=color:#bbb> </span>Setup<span style=color:#bbb> </span>Hugo<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#a2f;font-weight:700>uses</span>:<span style=color:#bbb> </span>peaceiris/actions-hugo@v2<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#a2f;font-weight:700>with</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#bbb>        </span><span style=color:#a2f;font-weight:700>hugo-version</span>:<span style=color:#bbb> </span><span style=color:#b44>&#39;0.59.1&#39;</span><span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:#a2f;font-weight:700>extended</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>true</span><span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span>- <span style=color:#a2f;font-weight:700>name</span>:<span style=color:#bbb> </span>Build<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#a2f;font-weight:700>run</span>:<span style=color:#bbb> </span>hugo<span style=color:#bbb> </span>--minify<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span>- <span style=color:#a2f;font-weight:700>name</span>:<span style=color:#bbb> </span>Deploy<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#a2f;font-weight:700>uses</span>:<span style=color:#bbb> </span>peaceiris/actions-gh-pages@v2<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#a2f;font-weight:700>env</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#bbb>        </span><span style=color:#a2f;font-weight:700>ACTIONS_DEPLOY_KEY</span>:<span style=color:#bbb> </span>${{<span style=color:#bbb> </span>secrets.ACTIONS_DEPLOY_KEY<span style=color:#bbb> </span>}}<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:#a2f;font-weight:700>PUBLISH_BRANCH</span>:<span style=color:#bbb> </span>master<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:#a2f;font-weight:700>PUBLISH_DIR</span>:<span style=color:#bbb> </span>./public<span style=color:#bbb>
</span></code></pre></div><p>保存上面的文件后，将本地仓库推送到远程，Github 检测到 <code>.github/workflow</code> 目录和里面的<code>main.yml</code> 文件，就会自动运行，在网页端可以查看运行日志，如果出现错误可以根据日志内容就行修改。</p><p><img src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HeehD.png alt="Github Action 日志文件"></p><p>等到workflow运行结束，访问博客页面，就可以看到更新成功了。切换到master分支，也可以看到推送的网页文件，不过因为设置了默认分支为 blog，以后打开网页端该仓库，以及在本地 clone的时候，默认都是 blog 分支。</p><p>注：Github Action 在2020年开始正式使用，之前一直使用 Travis CI，配置步骤见 附录II</p><h2 id=4-安装主题>4. 安装主题</h2><p>Hugo没有默认主题，需要自己从官方的<a href=https://themes.gohugo.io/>主题列表</a>下载安装。总体来看，Hugo 主题的数量和质量可能都不如 Hexo，比如 Next 这种主题已经形成了庞大的开发社区，有大量的人在使用和维护，Hugo 中就没有这种影响力很大的主题了，但 Hugo 的主题的创意都非常棒。</p><p><a href=https://github.com/Fastbyte01/KeepIt>KeepIt</a> 是其中一个较为简单优雅的主题，基于 <a href=https://raw.githubusercontent.com/liuzc/LeaveIt/>LeaveIt</a> 主题二次开发而成，遵循「Less is more」的原则，是我最喜欢的主题。因为主题通常是单独的 Github 仓库，因此将其作为博客项目的子模块进行管理。</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#080;font-style:italic># 将主题项目作为子模块添加</span>
$ git submodule add https://github.com/Fastbyte01/KeepIt.git themes/KeepIt
<span style=color:#080;font-style:italic># 查看子模块信息</span>
$ git submodule
 87c33888f3fa86b8cc096bc3f6d7f2efe9ccba66 themes/KeepIt <span style=color:#666>(</span>v4-53-g87c3388<span style=color:#666>)</span>
</code></pre></div><p>复制主题提供的站点配置文件 <code>config.toml</code> 到项目根目录，覆盖 Hugo 本身的站点配置文件（第一次使用可以将exampleSite目录下的内容全部复制过来）</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ cp themes/KeepIt/exampleSite/. .
</code></pre></div><p>运行<code>hugo server</code>命令，在浏览器键入网址 <a href=http://localhost:1313>http://localhost:1313</a> 预览主题效果（首页图片未加载是因为还没有放置头像文件）</p><p><img src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1Hpbad.png alt="KeepIt theme preview"></p><h2 id=5-网站配置>5. 网站配置</h2><p>正式使用前，我们需要编辑站点配置文件从而设置网站的一些内容，通常配置文件或主题文档会进行详细的说明，当前我们对 <code>config.toml</code> 文件做如下配置</p><h3 id=51-基础配置>5.1 基础配置</h3><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml>baseURL = <span style=color:#b44>&#34;https://shuzang.github.io&#34;</span>
languageCode = <span style=color:#b44>&#34;en&#34;</span>
defaultContentLanguage = <span style=color:#b44>&#34;en&#34;</span>
title = <span style=color:#b44>&#34;Shuzang&#39;s blog&#34;</span>
theme = <span style=color:#b44>&#34;KeepIt&#34;</span>

paginate = <span style=color:#666>12</span>
enableEmoji = <span style=color:#a2f;font-weight:700>true</span>
enableRobotsTXT = <span style=color:#a2f;font-weight:700>true</span>
googleAnalytics = <span style=color:#b44>&#34;&#34;</span>
disqusShortname = <span style=color:#b44>&#34;yourdiscussshortname&#34;</span>

[sitemap]
  changefreq = <span style=color:#b44>&#34;monthly&#34;</span>
  filename = <span style=color:#b44>&#34;sitemap.xml&#34;</span>
  priority = <span style=color:#666>0.5</span>

[blackfriday]
  hrefTargetBlank = <span style=color:#a2f;font-weight:700>true</span>
  nofollowLinks = <span style=color:#a2f;font-weight:700>true</span>
  noreferrerLinks = <span style=color:#a2f;font-weight:700>true</span>

[Permalinks]
 posts = <span style=color:#b44>&#34;/:year/:filename/&#34;</span>

[menu]
  [[menu.main]]
    name = <span style=color:#b44>&#34;Blog&#34;</span>
    url = <span style=color:#b44>&#34;/posts/&#34;</span>
    weight = <span style=color:#666>1</span>

  [[menu.main]]
    name = <span style=color:#b44>&#34;Categories&#34;</span>
    url = <span style=color:#b44>&#34;/categories/&#34;</span>
    weight = <span style=color:#666>3</span>

  [[menu.main]]
    name = <span style=color:#b44>&#34;About&#34;</span>
    url = <span style=color:#b44>&#34;/about&#34;</span>
    weight = <span style=color:#666>4</span>
</code></pre></div><h3 id=52-头像>5.2 头像</h3><p>新建<code>static/images</code>文件夹，将头像文件存放在这里</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ mkdir static/images
<span style=color:#080;font-style:italic># 复制头像文件到images文件夹,复制完成后目录结构如下</span>
$ ls staitc -lR
static:
total <span style=color:#666>0</span>
drwxr-xr-x <span style=color:#666>1</span> 书藏 <span style=color:#666>197610</span> <span style=color:#666>0</span> 11月 <span style=color:#666>17</span> 14:41 images/

static/images:
total <span style=color:#666>88</span>
-rw-r--r-- <span style=color:#666>1</span> 书藏 <span style=color:#666>197610</span> <span style=color:#666>87641</span> 9月  <span style=color:#666>28</span> 18:21 avatar.png
</code></pre></div><p>修改站点配置文件<code>params</code>部分的<code>avatar</code>字段值</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml>[params]
	avatar = <span style=color:#b44>&#34;images/avatar.png&#34;</span> <span style=color:#080;font-style:italic>#comment it to use gravatar</span>
</code></pre></div><p>也可以使用自己图床中的头像图片链接，或者如果有gravatar头像，可以在配置文件中寻找相关字段填写账号。</p><h3 id=53-首页社交链接>5.3 首页社交链接</h3><p>修改站点配置文件中<code>params.social</code>部分的内容，需要的社交链接取消注释即可启用，比如我只启用了Github和Email，Github只需要填用户名，完整的URL在主题源码中自动生成。</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml>[params.social]
    GitHub = <span style=color:#b44>&#34;/shuzang&#34;</span>
    Email   = <span style=color:#b44>&#34;xxxxx@qq.com&#34;</span>
</code></pre></div><h3 id=54-网站基本资料>5.4 网站基本资料</h3><p>编辑站点配置文件的以下内容</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml>title = <span style=color:#b44>&#34;shuzang&#39;s blog&#34;</span>  <span style=color:#080;font-style:italic># 网站标题</span>
[params]
    since = <span style=color:#666>2018</span>                     <span style=color:#080;font-style:italic># 站点建立时间</span>
    author = <span style=color:#b44>&#34;shuzang&#34;</span>               <span style=color:#080;font-style:italic># 作者名</span>
    subtitle = <span style=color:#b44>&#34;世界钟爱热爱生活的人&#34;</span>       <span style=color:#080;font-style:italic># 子标题</span>
    home_mode = <span style=color:#b44>&#34;&#34;</span> <span style=color:#080;font-style:italic># post or other      # post模式会在主页面显示文章</span>
    
    description = <span style=color:#b44>&#34;shuzang的个人博客&#34;</span> <span style=color:#080;font-style:italic># 网站描述</span>
    keywords = <span style=color:#b44>&#34;blog, Golang, Hugo, blockchain &#34;</span> <span style=color:#080;font-style:italic># 网站关键词</span>
</code></pre></div><h3 id=55-网站图标>5.5 网站图标</h3><p>使用 <a href="https://www.google.com/search?q=favicon+generator">favicon generator</a> 生成配套的网站图标，放到 <code>/static</code> 目录下，可以设置网站在各平台的显示图标，包括如下内容</p><ul><li>android-chrome-192x192.png</li><li>android-chrome-512x512.png</li><li>apple-touch-icon.png</li><li>browserconfig.xml</li><li>cover.png</li><li>favicon.ico</li><li>favicon-16x16.png</li><li>favicon-32x32.png</li><li>logo.png</li><li>mstile-150x150.png</li><li>safari-pinned-tab.svg</li><li>site.webmanifest</li></ul><p>然后修改站点配置文件中以下内容</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml>[author]
  name = <span style=color:#b44>&#34;shuzang&#34;</span>

  [params.publisher]
    name = <span style=color:#b44>&#34;shuzang&#34;</span>

    [params.publisher.logo]
      url = <span style=color:#b44>&#34;logo.png&#34;</span>
      width = <span style=color:#666>127</span>
      height = <span style=color:#666>40</span>

  [params.logo]
    url = <span style=color:#b44>&#34;logo.png&#34;</span>
    width = <span style=color:#666>127</span>
    height = <span style=color:#666>40</span>

  [params.image]
    url = <span style=color:#b44>&#34;cover.png&#34;</span>
    width = <span style=color:#666>800</span>
    height = <span style=color:#666>600</span>
</code></pre></div><p>更多配置可以参考<a href=https://github.com/Mogeko/Blog>Mogeko的个人博客</a></p><p>以上所有配置完成后，博客网站首页如下</p><p><img src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HCWjK.png alt="configuration finished"></p><h2 id=5-文章发布>5. 文章发布</h2><p>在content目录下创建 <code>posts</code>文件夹，写作的文章全部放到该目录下，在每篇文章开头添加元数据字段，可以是YAML或TOML格式，示例如下</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml>title = <span style=color:#b44>&#34;Getting Started with Hugo&#34;</span>
description = <span style=color:#b44>&#34;&#34;</span>
type = [<span style=color:#b44>&#34;posts&#34;</span>,<span style=color:#b44>&#34;post&#34;</span>]
tags = [
    <span style=color:#b44>&#34;go&#34;</span>,
    <span style=color:#b44>&#34;golang&#34;</span>,
    <span style=color:#b44>&#34;hugo&#34;</span>,
    <span style=color:#b44>&#34;development&#34;</span>,
]
date = <span style=color:#b44>&#34;2014-04-02&#34;</span>
categories = [
    <span style=color:#b44>&#34;Development&#34;</span>,
    <span style=color:#b44>&#34;golang&#34;</span>,
]
series = [<span style=color:#b44>&#34;Hugo 101&#34;</span>]
[ author ]
  name = <span style=color:#b44>&#34;Hugo Authors&#34;</span>
</code></pre></div><p>下面是一篇示例文章</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown>---
title: Markdown说明
date: 2020-04-05
tags: [&#34;Markdown&#34;]
categories: [&#34;爱编程爱技术的孩子&#34;]
---

Markdown由Aaron Swartz和John Gruber共同设计

<span style=color:#a2f;font-weight:700>-</span> Aaron Swartz的博客：[http://www.aaronsw.com/](http://www.aaronsw.com/)
<span style=color:#a2f;font-weight:700>-</span> John Gruber的博客： [<span style=color:green;font-weight:700>https://daringfireball.net/ </span>](<span style=color:#b44>https://daringfireball.net/ </span>)

作者中的Aaron Swartz是天才程序员，著名社交网站[Reddit](http://www.reddit.com/)的联合创始人，14岁参与RSS 1.0规格标准的制订，致力于网络信息开放。在2011年7月19日，因被指控从MIT和JSTOR下载480万篇学术论文并以免费形式上传于网络被捕，2013年1月自杀身亡，年仅26岁。  
</code></pre></div><p>文章保持后将仓库新增内容推送到远程，几分钟后即可在 <a href=https://shuzang.github.io>https://shuzang.github.io</a> 看的这篇文章</p><p><img src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_%E7%A4%BA%E4%BE%8B%E6%96%87%E7%AB%A0.png alt=示例文章></p><h2 id=6-主题迁移>6. 主题迁移</h2><p>随着使用时间的增加，逐渐意识到某些功能的必不可少，比如目录、数学公式支持等。KeepIt 主题已经停止了更新，好在在KeepIt的基础上重构设计的 <a href=https://github.com/dillonzq/LoveIt>LoveIt</a> 主题，解决了大部分我关心的问题。这里借此介绍如何更换主题。</p><p>首先删除原来的主题子模块</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git submodule deinit themes/LoveIt
$ git rm themes/LoveIt
</code></pre></div><p>然后添加新的主题作为子模块并重新配置 <code>config.toml</code> 文件</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git submodule add https://github.com/dillonzq/LoveIt.git themes/LoveIt
</code></pre></div><p>具体的配置可以参考主题文档，一个参考配置如下</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml>title = <span style=color:#b44>&#34;Shuzang&#39;s Blog&#34;</span>                <span style=color:#080;font-style:italic># 设置网站标题</span>
theme = <span style=color:#b44>&#34;LoveIt&#34;</span>                        <span style=color:#080;font-style:italic># 设置主题为LoveIt</span>
hasCJKLanguage = <span style=color:#a2f;font-weight:700>true</span>                   <span style=color:#080;font-style:italic># 启用对中文统计的支持，不启用字数统计会出问题</span>
paginate = <span style=color:#666>10</span>                           <span style=color:#080;font-style:italic># 每页的文章数量设置为10，便于根据页数快速计算总文章数</span>

<span style=color:#080;font-style:italic># 作者名设置</span>
[author]                                            
  name = <span style=color:#b44>&#34;shuzang&#34;</span>
  
<span style=color:#080;font-style:italic># 菜单栏新添life页面并调整顺序</span>
[menu]                                               
  [[menu.main]]
    identifier = <span style=color:#b44>&#34;posts&#34;</span>
    name = <span style=color:#b44>&#34;Posts&#34;</span>
    url = <span style=color:#b44>&#34;posts&#34;</span>
    weight = <span style=color:#666>1</span>

  [[menu.main]]
    identifier = <span style=color:#b44>&#34;categories&#34;</span>
    name = <span style=color:#b44>&#34;Categories&#34;</span>
    url = <span style=color:#b44>&#34;categories&#34;</span>
    weight = <span style=color:#666>2</span>  

  [[menu.main]]
    identifier = <span style=color:#b44>&#34;tags&#34;</span>
    name = <span style=color:#b44>&#34;Tags&#34;</span>
    url = <span style=color:#b44>&#34;tags&#34;</span>
    weight = <span style=color:#666>3</span>

  [[menu.main]]
    identifier = <span style=color:#b44>&#34;life&#34;</span>
    name = <span style=color:#b44>&#34;Life&#34;</span>
    url = <span style=color:#b44>&#34;life&#34;</span>
    weight = <span style=color:#666>4</span>

  [[menu.main]]
    identifier = <span style=color:#b44>&#34;about&#34;</span>
    name = <span style=color:#b44>&#34;About&#34;</span>
    url = <span style=color:#b44>&#34;about&#34;</span>
    weight = <span style=color:#666>5</span>
    
 <span style=color:#080;font-style:italic># 基本参数设置，包括网站描述字段、关键词、主页文章显示模式、子标题</span>
 [params]
  description = <span style=color:#b44>&#34;shuzang&#39;s personal blog&#34;</span>                      <span style=color:#080;font-style:italic># site description</span>
  keywords = [<span style=color:#b44>&#34;blog&#34;</span>, <span style=color:#b44>&#34;Golang&#34;</span>, <span style=color:#b44>&#34;Hugo&#34;</span>, <span style=color:#b44>&#34;blockchain&#34;</span>, <span style=color:#b44>&#34;go&#34;</span>, <span style=color:#b44>&#34;life&#34;</span>]     <span style=color:#080;font-style:italic># site keywords</span>
                                              
  home_mode = <span style=color:#b44>&#34;other&#34;</span>                                <span style=color:#080;font-style:italic># [post, other] home mode</span>
  subtitle = <span style=color:#b44>&#34;The world loves people who love life&#34;</span>  <span style=color:#080;font-style:italic># subtitle shown in home page</span>
  
  <span style=color:#080;font-style:italic>#头像、主页社交链接</span>
  [params.gravatar]
    email = <span style=color:#b44>&#34;lylw1996@qq.com&#34;</span>

  [params.social]                                    <span style=color:#080;font-style:italic># Social Info in home page</span>
    GitHub = <span style=color:#b44>&#34;shuzang&#34;</span>
    Email = <span style=color:#b44>&#34;lylw1996@qq.com&#34;</span>
    Steam = <span style=color:#b44>&#34;76561198343669932&#34;</span>
    Skype = <span style=color:#b44>&#34;live:844327696&#34;</span>
    
  <span style=color:#080;font-style:italic># gitalk设置涉及clientId和clientSecret，忽略</span>
</code></pre></div><h2 id=附录i-github-action>附录I Github Action</h2><p><a href=https://github.com/features/actions>GitHub Actions</a> 是 GitHub 在2018年10月推出的一个<a href=http://www.ruanyifeng.com/blog/2015/09/continuous-integration.html>持续集成服务</a>，之前一直是试用阶段，去年(2019年)年末刚刚开放，据说比<a href=http://www.ruanyifeng.com/blog/2017/12/travis_ci_tutorial.html>Travis CI</a> 更简单更好用，所以打算把持续集成工具切换到它。同时，之前博客部署使用了两个仓库，一个放源码，一个放生成的网页文件，目前来看可以统一成一个。本篇文章就打算做这两件事。</p><p>Github Actions入门可以阅读<a href=https://help.github.com/en/actions/automating-your-workflow-with-github-actions>官方文档</a>或者阮一峰大神的<a href=http://www.ruanyifeng.com/blog/2019/09/getting-started-with-github-actions.html>GitHub Actions 入门教程</a></p><h2 id=附录ii-使用travis-ci>附录II 使用Travis CI</h2><p>通过Travis CI做博客的持续集成，可以每次自动渲染生成新的博客网页并推送到<code>shuzang.github.io</code>仓库，从而实现调整域名的目的。但之前尝试了多次持续集成都没有成功，还把博客搞坏了，最终只能重建网站。这一次发现了之前存在的问题，终于成功了。</p><h3 id=步骤1-申请token>步骤1 申请Token</h3><p>在GitHub 上申请一个新的 <a href=https://github.com/settings/tokens/new>personal access token</a>。</p><p><code>Token description</code> 随便填，只要之后查看的时候知道是博客的就行。勾选所有 <code>repo</code> 列表项目，其它项目不要选。点击 <code>Generate token</code> 生成Token。</p><p><img src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HVOiD.png alt=申请Token></p><p>之后跳转的页面会显示Token的值，一定要记下来，因为离开这个页面之后这个值就再也无法查看。我因为已经做过一次了，这里就只查看一下。</p><p><img src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HVjRH.png alt="blog token"></p><h3 id=步骤2-设置travis-ci>步骤2 设置Travis CI</h3><p><a href=https://travis-ci.org/account/repositories>Travis CI</a>是一个持续集成的工具，使用GitHub账号登陆，然后开启 <code>blog</code> 仓库，选择 <code>setting</code>。</p><p><img src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HVbdK.png alt=开启blog仓库持续集成></p><p>在设置页面填写<strong>Environment Variables</strong>。</p><ul><li><strong>Name</strong> 填写： <code>GITHUB_TOKEN</code></li><li><strong>Value</strong> 填写：刚刚在 GitHub 申请到的 Token 的值</li></ul><p><img src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HVhRJ.png alt=填写环境变量></p><p>填写完成后点击<code>Add</code>添加</p><h3 id=步骤3-编写配置文件>步骤3 编写配置文件</h3><p>在博客根目录下创建并编辑<code>.travis.yml</code>文件，该文件的作用是告诉Travis CI如何部署博客</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ ls -al blog
total <span style=color:#666>30</span>
drwxr-xr-x <span style=color:#666>1</span> 书葬 <span style=color:#666>197610</span>    <span style=color:#666>0</span> 9月  <span style=color:#666>29</span> 20:28 ./
drwxr-xr-x <span style=color:#666>1</span> 书葬 <span style=color:#666>197610</span>    <span style=color:#666>0</span> 9月  <span style=color:#666>28</span> 18:20 ../
drwxr-xr-x <span style=color:#666>1</span> 书葬 <span style=color:#666>197610</span>    <span style=color:#666>0</span> 9月  <span style=color:#666>29</span> 20:28 .git/
-rw-r--r-- <span style=color:#666>1</span> 书葬 <span style=color:#666>197610</span>  <span style=color:#666>101</span> 9月  <span style=color:#666>28</span> 18:21 .gitmodules
-rw-r--r-- <span style=color:#666>1</span> 书葬 <span style=color:#666>197610</span> <span style=color:#666>1810</span> 9月  <span style=color:#666>29</span> 20:10 .travis.yml
drwxr-xr-x <span style=color:#666>1</span> 书葬 <span style=color:#666>197610</span>    <span style=color:#666>0</span> 9月  <span style=color:#666>28</span> 18:21 archetypes/
-rw-r--r-- <span style=color:#666>1</span> 书葬 <span style=color:#666>197610</span> <span style=color:#666>4946</span> 9月  <span style=color:#666>29</span> 18:27 config.toml
drwxr-xr-x <span style=color:#666>1</span> 书葬 <span style=color:#666>197610</span>    <span style=color:#666>0</span> 9月  <span style=color:#666>28</span> 18:24 content/
drwxr-xr-x <span style=color:#666>1</span> 书葬 <span style=color:#666>197610</span>    <span style=color:#666>0</span> 9月  <span style=color:#666>29</span> 18:56 docs/
-rw-r--r-- <span style=color:#666>1</span> 书葬 <span style=color:#666>197610</span>  <span style=color:#666>456</span> 9月  <span style=color:#666>29</span> 20:28 README.md
drwxr-xr-x <span style=color:#666>1</span> 书葬 <span style=color:#666>197610</span>    <span style=color:#666>0</span> 9月  <span style=color:#666>28</span> 18:21 resources/
drwxr-xr-x <span style=color:#666>1</span> 书葬 <span style=color:#666>197610</span>    <span style=color:#666>0</span> 9月  <span style=color:#666>28</span> 18:21 static/
drwxr-xr-x <span style=color:#666>1</span> 书葬 <span style=color:#666>197610</span>    <span style=color:#666>0</span> 9月  <span style=color:#666>28</span> 18:21 themes/
</code></pre></div><p>文件内容如下</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#a2f;font-weight:700>language</span>:<span style=color:#bbb> </span>go<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>go</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#bbb>  </span>- <span style=color:#b44>&#34;1.12&#34;</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># 指定Golang 1.12</span><span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>dist</span>:<span style=color:#bbb> </span>bionic<span style=color:#bbb>  </span><span style=color:#080;font-style:italic># Ubuntu 18.04</span><span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>env</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>global</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#bbb>   </span><span style=color:#080;font-style:italic># Github Pages</span><span style=color:#bbb>
</span><span style=color:#bbb>   </span>- <span style=color:#a2f;font-weight:700>GH_REF</span>:<span style=color:#bbb> </span>github.com/shuzang/shuzang.github.io<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># Specify which branches to build using a safelist</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># 分支白名单限制：只有 master 分支的提交才会触发构建</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># branches:</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic>#   only:</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic>#     - master</span><span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>before_install</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># 安装依赖</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic>#  - wget -q -O libstdc++6.deb http://security.ubuntu.com/ubuntu/pool/main/g/gcc-5/libstdc++6_5.4.0-6ubuntu1~16.04.10_amd64.deb</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic>#  - sudo dpkg --force-all -i libstdc++6.deb</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># 删除docs文件夹</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>- rm<span style=color:#bbb> </span>-rf<span style=color:#bbb> </span>./docs<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># 安装 hugo （version: v0.58.0）</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>- wget<span style=color:#bbb> </span>-q<span style=color:#bbb> </span>-O<span style=color:#bbb> </span>hugo.deb<span style=color:#bbb> </span>https://github.com/gohugoio/hugo/releases/download/v0<span style=color:#666>.58</span><span style=color:#666>.3</span>/hugo_extended_0<span style=color:#666>.58</span>.3_Linux-64bit.deb<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- sudo<span style=color:#bbb> </span>dpkg<span style=color:#bbb> </span>-i<span style=color:#bbb> </span>hugo.deb<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>install</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># 运行hugo命令</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>- hugo<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>script</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#bbb>  </span>- cd<span style=color:#bbb> </span>./docs<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- git<span style=color:#bbb> </span>init<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- git<span style=color:#bbb> </span>config<span style=color:#bbb> </span>user.name<span style=color:#bbb> </span><span style=color:#b44>&#34;shuzang&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>- git<span style=color:#bbb> </span>config<span style=color:#bbb> </span>user.email<span style=color:#bbb> </span><span style=color:#b44>&#34;lylw1996@qq.com&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>- git<span style=color:#bbb> </span>add<span style=color:#bbb> </span>.<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- git<span style=color:#bbb> </span>commit<span style=color:#bbb> </span>-m<span style=color:#bbb> </span><span style=color:#b44>&#34;Update Blog By TravisCI With Build $TRAVIS_BUILD_NUMBER&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># Github Pages</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>- git<span style=color:#bbb> </span>push<span style=color:#bbb> </span>--force<span style=color:#bbb> </span>--quiet<span style=color:#bbb> </span><span style=color:#b44>&#34;https://$GITHUB_TOKEN@${GH_REF}&#34;</span><span style=color:#bbb> </span>master:master<span style=color:#bbb>
</span></code></pre></div><p>大部分都有注释说明，这里要注意的两点是</p><ol><li>在运行 <code>hugo</code> 命令前要先删除<code>docs</code>文件夹，是为了清除历史网页文件，这是Hugo官方建议的</li><li>注释掉了常规 Github pages 进行持续集成时使用的 <code>deploy</code> 部分，因为我们只需要单纯的把网页文件提交到另一个仓库。只有当普通的项目启用github pages时需要这部分，这里的博客部署不需要，开启<code>deploy</code>部分反而会出现错误，目前不知道原因。</li></ol><h3 id=步骤4-使用说明>步骤4 使用说明</h3><p>大部分工作都通过Travis CI自动进行了，以后提交只需要在改动之后直接<code>git push</code>到远程仓库，将会触发自动构建，只需要一两分钟，就可以在<a href=https://travis-ci.org/>Travis CI</a> 上查看部署情况。</p><p><font color=green>绿色</font> 代表部署成功  <font color=yellow>黄色</font> 代表正在部署  <font color=red>红色</font> 代表部署失败  <font color=gray>灰色</font> 代表部署被取消</p><p><img src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HVos1.png alt=持续集成通过></p><p>然后访问<a href=https://shuzang.github.io>博客首页</a>，不出意外就可以看到新的改动了。如果部署失败，在网页端的日志记录中找到失败原因，然后修改代码重新提交即可，新的提交通过后，原先失败的提交将会被解决。</p></div><footer class=post-footer><div class=post-tags><a href=/tags/hugo rel=tag title=Hugo>#Hugo#</a></div><div class=addthis_inline_share_toolbox></div><div class=post-nav><div class=article-copyright><div class=article-copyright-info><p><span>声明：</span>hugo搭建个人博客1-基础建站</p><p><span>链接：</span>https://shuzang.github.io/2019/04/hugo-blog-build-personal-blog/</p><p><span>作者：</span>书藏</p><p><span>声明： </span>本博客文章除特别声明外，均采用 <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ target=_blank style=text-decoration:underline>CC BY-NC-SA 3.0</a>许可协议，转载请注明出处！</p></div></div><div class=clear></div></div><div class=reward-qr-info><div>创作实属不易，如有帮助，那就打赏博主些许茶钱吧 ^_^</div><button id=rewardButton disable=enable onclick="var qr=document.getElementById('QR');if(qr.style.display==='none'){qr.style.display='block';}else{qr.style.display='none'}">
<span>赏</span></button><div id=QR style=display:none><div id=wechat style=display:inline-block><img id=wechat_qr src=/img/wechat-pay.png alt="WeChat Pay"><p>微信打赏</p></div><div id=alipay style=display:inline-block><img id=alipay_qr src=/img/ali-pay.png alt=Alipay><p>支付宝打赏</p></div></div></div><div class=post-nav><div class="post-nav-next post-nav-item"><a href=https://shuzang.github.io/2019/05/blockchain-paradigm-and-internet-of-things/ rel=next title="Blockchain Paradigm and Internet of Things"><i class="fa fa-chevron-left"></i>Blockchain Paradigm and Internet of Things</a></div><div class="post-nav-prev post-nav-item"><a href=https://shuzang.github.io/2019/04/%E7%94%9F%E5%91%BD%E6%B8%85%E5%8D%95/ rel=prev title=生命清单>生命清单
<i class="fa fa-chevron-right"></i></a></div></div><div id=wcomments></div></footer></article></section></div></div><div class=sidebar-toggle><div class=sidebar-toggle-line-wrap><span class="sidebar-toggle-line sidebar-toggle-line-first"></span><span class="sidebar-toggle-line sidebar-toggle-line-middle"></span><span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id=sidebar class=sidebar><div class=sidebar-inner><section class="site-overview sidebar-panel sidebar-panel-active"><div class="site-author motion-element" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image src=/images/avatar.png alt=书藏><p class=site-author-name itemprop=name>书藏</p><p class="site-description motion-element" itemprop=description></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href=/post/><span class=site-state-item-count>334</span>
<span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href=/categories/><span class=site-state-item-count>7</span>
<span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/><span class=site-state-item-count>23</span>
<span class=site-state-item-name>标签</span></a></div></nav><div class="links-of-author motion-element"><span class=links-of-author-item><a href=https://github.com/shuzang/ target=_blank title=GitHub><i class="fa fa-fw fa-github"></i>GitHub</a></span></div><div class="tagcloud-of-blogroll motion-element tagcloud-of-blogroll-inline"><div class=tagcloud-of-blogroll-title><i class="fa fa-fw fa-tags"></i>标签云</div><ul class=tagcloud-of-blogroll-list><li class=tagcloud-of-blogroll-item><a href=/tags/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0>论文笔记</a></li><li class=tagcloud-of-blogroll-item><a href=/tags/%E4%B9%A6%E8%97%8F%E7%9A%84%E7%94%9F%E6%B4%BB%E5%91%A8%E5%88%8A>书藏的生活周刊</a></li><li class=tagcloud-of-blogroll-item><a href=/tags/%E7%A7%91%E7%A0%94%E8%AE%B0%E5%BD%95>科研记录</a></li><li class=tagcloud-of-blogroll-item><a href=/tags/go%E8%AF%AD%E6%B3%95>Go语法</a></li><li class=tagcloud-of-blogroll-item><a href=/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80>计算机基础</a></li><li class=tagcloud-of-blogroll-item><a href=/tags/%E6%9D%82%E8%B0%88>杂谈</a></li><li class=tagcloud-of-blogroll-item><a href=/tags/%E5%8C%BA%E5%9D%97%E9%93%BE>区块链</a></li><li class=tagcloud-of-blogroll-item><a href=/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95>数据结构与算法</a></li><li class=tagcloud-of-blogroll-item><a href=/tags/%E7%94%9F%E6%B4%BB%E6%8A%80%E8%83%BD>生活技能</a></li><li class=tagcloud-of-blogroll-item><a href=/tags/go%E5%AE%9E%E6%88%98>Go实战</a></li></ul></div></section></div></aside></div></main><footer id=footer class=footer><div class=footer-inner><div class=copyright><span class=copyright-year>&copy; 2018 - 2022</span>
<span class=with-love><i class="fa fa-heart"></i></span><span class=copyright-author>书藏的博客</span></div><div class=powered-info><span class=powered-by>Powered by - <a class=powered-link href=//gohugo.io target=_blank title=hugo>Hugo v0.63.2</a></span>
<span class=separator-line>/</span>
<span class=theme-info>Theme by - <a class=powered-link href=//github.com/elkan1788/hugo-theme-next target=_blank>NexT</a></span></div><div class=vistor-info><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><span class=site-uv><i class="fa fa-user"></i><span class=busuanzi-value id=busuanzi_value_site_uv></span></span><span class=separator-line>/</span>
<span class=site-pv><i class="fa fa-eye"></i><span class=busuanzi-value id=busuanzi_value_site_pv></span></span></div></div></footer><div class=back-to-top><i class="fa fa-arrow-up"></i><span id=scrollpercent><span>0</span>%</span></div></div><script type=text/javascript src=//cdn.bootcdn.net/ajax/libs/jquery/2.1.4/jquery.min.js></script><script type=text/javascript src=/js/search.js></script><script type=text/javascript src=/js/affix.js></script><script type=text/javascript src=/js/scrollspy.js></script><script type=text/javascript>function detectIE(){var ua=window.navigator.userAgent;var msie=ua.indexOf('MSIE ');var trident=ua.indexOf('Trident/');var edge=ua.indexOf('Edge/');if(msie>0||trident>0||edge>0){return-1;}
return 1;}
function getCntViewHeight(){var docHeight=$('#content').height(),winHeight=$(window).height(),cntViewHeight=(docHeight>winHeight)?(docHeight-winHeight):($(document).height()-winHeight);return cntViewHeight;}
function getScrollbarWidth(){var $div=$('<div />').addClass('scrollbar-measure').prependTo('body');var div=$div[0];var scrollbarWidth=div.offsetWidth-div.clientWidth;$div.remove();return scrollbarWidth;}
function registerBackTop(){var THRESHOLD=50;var $top=$('.back-to-top');$(window).on('scroll',function(){$top.toggleClass('back-to-top-on',window.pageYOffset>THRESHOLD);var scrollTop=$(window).scrollTop();var cntViewHeight=getCntViewHeight();var scrollPercent=(scrollTop)/(cntViewHeight);var scrollPercentRounded=Math.round(scrollPercent*100);var scrollPercentMaxed=(scrollPercentRounded>100)?100:scrollPercentRounded;$('#scrollpercent>span').html(scrollPercentMaxed);});$top.on('click',function(){$("html,body").animate({scrollTop:0,screenLeft:0,},800);});}
function initScrollSpy(){var tocSelector='.post-toc';var $tocElement=$(tocSelector);var activeCurrentSelector='.active-current';$tocElement.on('activate.bs.scrollspy',function(){var $currentActiveElement=$(tocSelector+' .active').last();removeCurrentActiveClass();$currentActiveElement.addClass('active-current');}).on('clear.bs.scrollspy',removeCurrentActiveClass);$('body').scrollspy({target:tocSelector});function removeCurrentActiveClass(){$(tocSelector+' '+activeCurrentSelector).removeClass(activeCurrentSelector.substring(1));}}
function initAffix(){var headerHeight=$('.header-inner').height();var footerOffset=parseInt($('.main').css('padding-bottom'),10);var sidebarTop=headerHeight+10;$('.sidebar-inner').affix({offset:{top:sidebarTop,bottom:footerOffset}});$(document).on('affixed.bs.affix',function(){updateTOCHeight(document.body.clientHeight-100);});}
function initTOCDimension(){var updateTOCHeightTimer;$(window).on('resize',function(){updateTOCHeightTimer&&clearTimeout(updateTOCHeightTimer);updateTOCHeightTimer=setTimeout(function(){var tocWrapperHeight=document.body.clientHeight-100;updateTOCHeight(tocWrapperHeight);},0);});updateTOCHeight(document.body.clientHeight-100);var scrollbarWidth=getScrollbarWidth();$('.post-toc').css('width','calc(100% + '+scrollbarWidth+'px)');}
function updateTOCHeight(height){height=height||'auto';$('.post-toc').css('max-height',height);}
$(function(){var sidebarTop=$('.header-inner').height()+10;$('#sidebar').css({'margin-top':sidebarTop}).show();var sidebarMt=parseInt($('#sidebar').css('margin-top'));var sidebarInHeight=parseInt($('.sidebar-inner').css('height'));var sideHeight=sidebarMt+sidebarInHeight;var contentHeight=$('.content-wrap').height();if(contentHeight<sideHeight){$('.content-wrap').css('min-height',sideHeight);}
$('.site-nav-toggle').on('click',function(){var $siteNav=$('.site-nav');var $toggleLine=$('.toggle');var ON_CLASS_NAME='site-nav-on';var CLOSE_CLASS_NAME='toggle-close';var isSiteNavOn=$siteNav.hasClass(ON_CLASS_NAME);var animateAction=isSiteNavOn?'slideUp':'slideDown';var animateCallback=isSiteNavOn?'removeClass':'addClass';$siteNav.stop()[animateAction]('normal',function(){$siteNav[animateCallback](ON_CLASS_NAME);$toggleLine[animateCallback](CLOSE_CLASS_NAME);});});registerBackTop();initScrollSpy();initAffix();initTOCDimension();$('.sidebar-nav-toc').click(function(){$(this).addClass('sidebar-nav-active');$(this).next().removeClass('sidebar-nav-active');$('.'+$(this).next().attr('data-target')).toggle(500);$('.'+$(this).attr('data-target')).toggle(500);});$('.sidebar-nav-overview').click(function(){$(this).addClass('sidebar-nav-active');$(this).prev().removeClass('sidebar-nav-active');$('.'+$(this).prev().attr('data-target')).toggle(500);$('.'+$(this).attr('data-target')).toggle(500);});});</script><script src=//cdn.bootcdn.net/ajax/libs/imageviewer/0.1.0/viewer.min.js></script><script type=text/javascript>$(function(){$('.post-body').viewer();});</script><script type=text/javascript>$(function(){if(detectIE()>0){$.getScript(document.location.protocol+'//cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js',function(){new Waline({el:'#wcomments',visitor:true,avatar:'wavatar',avatarCDN:'https://sdn.geekzu.org/avatar/',avatarForce:!1,wordLimit:'200',placeholder:' 欢迎留下您的宝贵建议，请填写您的昵称和邮箱便于后续交流. ^_^ ',requiredFields:['nick','mail'],serverURL:"Your WalineSerURL",lang:"zh-cn"});});}else{$('#wcomments').html('抱歉，Waline插件不支持IE或Edge，建议使用Chrome浏览器。');}});</script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=Your%20AddthisId"></script><script>(function(){var bp=document.createElement('script');var curProtocol=window.location.protocol.split(':')[0];if(curProtocol==='https'){bp.src='https://zz.bdstatic.com/linksubmit/push.js';}
else{bp.src='http://push.zhanzhang.baidu.com/push.js';}
var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(bp,s);})();</script></body></html>