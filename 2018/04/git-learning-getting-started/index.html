<!doctype html><html lang=zh-cn dir=content/zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=content-security-policy content="upgrade-insecure-requests"><title>Git入门-基本概念, 基本原理, 安装使用 - 书藏的博客</title><meta name=keywords content="博客,程序员,区块链，思考,读书,笔记,生活,电影,旅游,"><meta name=author content="书藏"><meta property="og:title" content="Git入门-基本概念, 基本原理, 安装使用"><meta property="og:site_name" content="书藏的博客"><meta property="og:image" content="/img/avatar.png"><meta name=title content="Git入门-基本概念, 基本原理, 安装使用 - 书藏的博客"><meta name=description content="书藏的个人博客，记录学习的东西，以月刊记录生活"><link rel="shortcut icon" href=/img/favicon.ico><link rel=apple-touch-icon href=/img/apple-touch-icon.png><link rel=apple-touch-icon-precomposed href=/img/apple-touch-icon.png><link href=//cdn.bootcdn.net/ajax/libs/font-awesome/4.6.2/css/font-awesome.min.css rel=stylesheet type=text/css><link href=//cdn.bootcdn.net/ajax/libs/imageviewer/0.1.0/viewer.min.css rel=stylesheet><link href=/css/main.css rel=stylesheet type=text/css><link href=/css/syntax.css rel=stylesheet type=text/css><script async src="https://www.googletagmanager.com/gtag/js?id=UA-209130979-1"></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-209130979-1 ');</script></head><body itemscope itemtype=http://schema.org/WebPage lang=zh-hans><div class="container one-collumn sidebar-position-left page-home"><div class=headband></div><header id=header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle role=button style=opacity:1;top:0><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div></div><div class=site-meta><div class=multi-lang-switch><i class="fa fa-fw fa-language" style=margin-right:5px></i><a class=lang-link id=zh-cn href=#>中文</a></div><div class=custom-logo-site-title><a href=/ class=brand rel=start><span class=logo-line-before><i></i></span><span class=site-title>书藏的博客</span>
<span class=logo-line-after><i></i></span></a></div><p class=site-subtitle>凡心所向，素履以往</p></div><div class=site-nav-right><div class="toggle popup-trigger" style=opacity:1;top:0><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul id=menu class=menu><li class=menu-item><a href=/ rel=section><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class=menu-item><a href=/post rel=section><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class=menu-item><a href=/about.html rel=section><i class="menu-item-icon fa fa-fw fa-user"></i><br>关于我</a></li><li class=menu-item><a href=/404.html rel=section><i class="menu-item-icon fa fa-fw fa-heartbeat"></i><br>公益404</a></li><li class="menu-item menu-item-search"><a href=javascript:; class=popup-trigger><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class=site-search><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class=search-icon><i class="fa fa-search"></i></span><span class=popup-btn-close><i class="fa fa-times-circle"></i></span><div class=local-search-input-wrapper><input autocomplete=off placeholder=搜索关键字... spellcheck=false type=text id=local-search-input autocapitalize=none autocorrect=off></div></div><div id=local-search-result></div></div></div></nav></div></header><main id=main class=main><div class=main-inner><div class=content-wrap><div id=content class=content><section id=posts class=posts-expand><article class="post post-type-normal" itemscope itemtype=http://schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline"><a class=post-title-link href=https://shuzang.github.io/2018/04/git-learning-getting-started/ itemprop=url>Git入门-基本概念, 基本原理, 安装使用</a></h1><div class=post-meta><span class=post-time><i class="fa fa-calendar-o fa-fw"></i><span class=post-meta-item-text>时间：</span>
<time itemprop=dateCreated datetime=2016-03-22T13:04:35+08:00 content="2018-04-20">2018-04-20</time></span>
<span class=post-category>&nbsp; | &nbsp;
<i class="fa fa-folder-o fa-fw"></i><span class=post-meta-item-text>分类：</span>
<span itemprop=about itemscope itemtype=https://schema.org/Thing><a href=/categories/%E7%88%B1%E7%BC%96%E7%A8%8B%E7%88%B1%E6%8A%80%E6%9C%AF%E7%9A%84%E5%AD%A9%E5%AD%90 itemprop=url rel=index style=text-decoration:underline><span itemprop=name>爱编程爱技术的孩子</span></a>
&nbsp;</span></span>
<span>|
<i class="fa fa-file-word-o fa-fw"></i><span class=post-meta-item-text>字数：</span>
<span class=leancloud-world-count>5210 字</span></span>
<span>|
<i class="fa fa-eye fa-fw"></i><span class=post-meta-item-text>阅读：</span>
<span class=leancloud-view-count>11分钟</span></span>
<span id=/2018/04/git-learning-getting-started/ class=leancloud_visitors data-flag-title="Git入门-基本概念, 基本原理, 安装使用">|
<i class="fa fa-binoculars fa-fw"></i><span class=post-meta-item-text>阅读次数：</span>
<span class=leancloud-visitors-count></span></span></div></header><div class=post-body itemprop=articleBody><p>版本控制系统在代码开发过程中必不可缺，本系列学习 Git 的使用，版本托管服务则是 Github。以廖雪峰大神 <a href=https://www.liaoxuefeng.com/wiki/896043488029600>git教程</a> 为主体，辅以使用过程中遇到的问题和心得。</p><h2 id=1-版本控制系统>1. 版本控制系统</h2><h3 id=11-作用>1.1 作用</h3><p>版本控制系统用来解决两种情况</p><ol><li><p>文章不断进行修改，但又觉得之前的版本可能有用，于是产生大量重命名文件，代码编辑亦如是，而且更加不容易回溯。</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>版本1.doc   
版本2.doc   
最终版本.doc   
最终版本改.doc   
真的是最终版本了.doc
</code></pre></div></li><li><p>多人协作，每次都需要校对对方的改动，然后进行合并，会花费大量不必要的精力</p></li></ol><p>版本控制的作用就是记录所有的修改历史，便于需要时回退，同时提供一个协作的平台。</p><h3 id=11-历史>1.1 历史</h3><p>Git 属于分布式版本控制，在此之前主要是<strong>集中式的版本控制</strong>，基本原理是有一个服务器放所有的代码，要工作的时候下载回来，改动完上传回去，记录不同人的改动和合并都由服务器端完成，这种形式极度依赖于服务器性能和网速。</p><p>2005 年 Linux 内核代码版本控制使用的软件失效，Linux 创始人 Linus 花了一周开发了 Git 这个分布式版本控制系统，其后慢慢流行，现在已用于大多数的项目代码管理。</p><p><strong>分布式版本控制</strong>和 torrent 差不多，每个人的电脑都是服务器，修改完直接把修改的部分推送给所有拥有这个项目的人。分布式版本控制也有服务器，但主要是负责做备份，并方便大家的交换用的，并不是必要。</p><h3 id=12-github>1.2 Github</h3><p><strong>Github</strong>，发音为「 ɡɪthʌb 」，是为开源项目免费提供 Git 存储的网站，2008年上线。</p><p>注意，Git 和 Github 这两个单词在官方的网站上首字母都是大写，因此我们遵从这样的规则。</p><h2 id=2-安装使用>2. 安装使用</h2><p>Git 是全平台的软件，命令行界面，连接到服务商（比如 Github）就能使用，目前 Github 已经推出了 windows 上的 GUI 版本，操作更加简便。</p><h3 id=21-linux安装>2.1 Linux安装</h3><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ sudo apt-get install git
$ git version
</code></pre></div><p>安装完成后还要设置自己的名字和Email地址</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git config --global  user.name   <span style=color:#b44>&#34;your name&#34;</span>
$ git config --global  user.email  <span style=color:#b44>&#34;email@example.com&#34;</span>
</code></pre></div><p><code>--global</code>参数的意思是这个名字和邮箱应用于所有git仓库</p><h3 id=22-windows安装>2.2 windows安装</h3><p>从<a href=https://git-scm.com/>官网</a>下载<code>Download x.xx for Windows</code>按照，会自动配置环境变量。我一般使用chocolatey包管理工具，执行命令如下</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell>&gt; choco install git
</code></pre></div><p>Windows下GUI版下载地址为：https://desktop.github.com/ ，嗯，真香，windows下我已经很久不用命令行的git了，一般都当作shell工具来使用，而不是执行git命令。</p><h2 id=3-仓库和文件>3. 仓库和文件</h2><p>[仓库]^(repository)，本质是一个文件夹，存放归属同一个项目的所有文件，是版本控制中的一个重要概念，可分为本地仓库和云端仓库。本地仓库是自己的代码编辑工作区，云端仓库是代码的备份。</p><h3 id=31-创建一个仓库>3.1 创建一个仓库</h3><p>在本地任意路径创建<code>gittest</code>文件夹，路径自定义</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ mkdir gittest
</code></pre></div><p>进入创建的文件夹，使用 <code>git init</code> 命令把该目录变成git的仓库</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ <span style=color:#a2f>cd</span> gittest
$ git init
</code></pre></div><p>然后仓库就建好了，该目录下会多一个<code>.git</code>隐藏文件夹，用来跟踪管理仓库。使用<code>ls -a</code>命令可以看到该文件夹，默认隐藏说明它很重要，里面的文件改动的话很容易导致仓库损坏。<code>.git</code>文件夹下的内容包括</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ ls .git
config  description  HEAD  hooks/  info/  objects/  refs/
</code></pre></div><p>一些文件的作用在<code>暂存区和工作区</code>部分解释。</p><h3 id=32-在仓库中添加文件>3.2 在仓库中添加文件</h3><p>添加文件的类型有讲究</p><ul><li><p>对txt文档、代码文件等文件类型，版本控制系统可记录每次的改动</p></li><li><p>对图片、视频、PDF等文件类型，版本控制系统只能管理，不能记录改动，最多只能记录大小变化，Word文件实质是二进制格式，所以同样没法跟踪改动</p></li></ul><p>首先新建一个txt文件并放在gittest目录下，编辑其文件内容</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ <span style=color:#a2f>cd</span> gittest
$ touch hellogit.txt
$ cat hellogit.txt
hello git
</code></pre></div><p>用<code>git add</code>命令将该文件添加到暂存区，暂存区的概念之后解释</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git add  hellogit.txt
</code></pre></div><p>用git commit命令将文件提交到仓库(这里指本地仓库)</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git commit -m <span style=color:#b44>&#34;first commit&#34;</span>
<span style=color:#666>[</span>master <span style=color:#666>(</span>root-commit<span style=color:#666>)</span> a91c248<span style=color:#666>]</span> first commit
 <span style=color:#666>1</span> file changed, <span style=color:#666>1</span> insertion<span style=color:#666>(</span>+<span style=color:#666>)</span>
 create mode <span style=color:#666>100644</span> hellogit.txt
</code></pre></div><p>双引号中为备注信息，是该次提交的说明，一般情况是描述此次修改的。commit添加的提交信息对于代码review具有重要的作用，要遵循一定的规范。</p><p>命令执行完后的提示包括以下内容：</p><ol><li>提交到了主分支（master)，备注信息为「first commit」</li><li>改动了一个文件（hellogit.txt），加了1行内容(注意那个+号)</li><li>最后一行中100代表regular file，644代表文件权限</li></ol><p><code>git add</code>命令可以有多个，分多次将文件添加到暂存区，之后执行<code>git commit</code>命令会一次性将之前add的所有文件一起提交，如</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git add file1.txt
git add file2.txt file3.txt
git commit -m <span style=color:#b44>&#34;add 3 files&#34;</span>
</code></pre></div><p>也可以使用如下命令一次性将所有修改添加到暂存区，然后执行<code>commit</code>命令</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash> $ git add .
</code></pre></div><h3 id=33-对文件进行修改>3.3 对文件进行修改</h3><p>版本控制的目的就是记录文件的改动，我们将hellogit.txt文件的内容进行第二次修改，用 git status 命令查看仓库当前状态</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git status
On branch master
Changes not staged <span style=color:#a2f;font-weight:700>for</span> commit:
  <span style=color:#666>(</span>use <span style=color:#b44>&#34;git add &lt;file&gt;...&#34;</span> to update what will be committed<span style=color:#666>)</span>
  <span style=color:#666>(</span>use <span style=color:#b44>&#34;git checkout -- &lt;file&gt;...&#34;</span> to discard changes in working directory<span style=color:#666>)</span>

        modified:   hellogit.txt

no changes added to commit <span style=color:#666>(</span>use <span style=color:#b44>&#34;git add&#34;</span> and/or <span style=color:#b44>&#34;git commit -a&#34;</span><span style=color:#666>)</span>
</code></pre></div><p>返回的提示内容会包括</p><ul><li>位于哪个分支</li><li>修改了哪个文件</li><li>「修改尚未加入提交」</li></ul><p>如果我们想看到具体做了哪些修改，用<code>git diff</code>命令，diff就是diffenence，所以<code>git diff</code>的意思就是查看不同</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git diff hellogit.txt
diff --git a/hellogit.txt b/hellogit.txt
index f09e9c3..a90a76d <span style=color:#666>100644</span>
--- a/hellogit.txt
+++ b/hellogit.txt
@@ -1 +1,2 @@
-hello git
<span style=color:#b62;font-weight:700>\ </span>No newline at end of file
+hello git
+add a line
<span style=color:#b62;font-weight:700>\ </span>No newline at end of file
</code></pre></div><p>提示中说明了我们在末尾添加了一行，其内容为<code>add a line</code>。此时我们确认了做的修改是我们心里所想的，就可以再次提交了</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git add hellogit.txt
$ git status
On branch master
Changes to be committed:
  <span style=color:#666>(</span>use <span style=color:#b44>&#34;git reset HEAD &lt;file&gt;...&#34;</span> to unstage<span style=color:#666>)</span>

        modified:   hellogit.txt

$ git commit -m <span style=color:#b44>&#34;add a line&#34;</span>
<span style=color:#666>[</span>master ae3c27f<span style=color:#666>]</span> add a line
 <span style=color:#666>1</span> file changed, <span style=color:#666>2</span> insertions<span style=color:#666>(</span>+<span style=color:#666>)</span>, <span style=color:#666>1</span> deletion<span style=color:#666>(</span>-<span style=color:#666>)</span>

$ git status
On branch master
nothing to commit, working tree clean
</code></pre></div><p>提交过程中可以每一步都使用<code>git status</code>命令查看当前状态，最后commit提交完的状态提示为：</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>位于master分支
无文件要提交，干净的工作区
</code></pre></div><p>此时就放心了，每次修改完或者要离开工作岗位的时候提交一次，就像游戏存档，离开之前或者重要关卡前存档，失败的时候就能读档重来，这里修改出错也可以从上一次的commit重来</p><h2 id=4-远程仓库>4. 远程仓库</h2><p>本地仓库的代码编辑完成后，需要推送到远程仓库进行备份，我们使用Github提供的免费远程仓库。由于本地Git仓库和GitHub远程仓库之间的传输是通过SSH加密的，所以，需要先设置SSH密钥。</p><h3 id=41-创建ssh-key>4.1 创建SSH Key</h3><p>在用户主目录下，看看有没有<code>.ssh</code>(默认隐藏)目录，如果有，再看看这个目录下有没有<code>id_rsa</code>和<code>id_rsa.pub</code>这两个文件，如果已经有了，可直接跳到下一步。如果没有，打开终端，创建SSH Key：</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ ssh-keygen -t rsa -C <span style=color:#b44>&#34;youremail@example.com&#34;</span>
</code></pre></div><p>把邮件地址换成自己的邮件地址，然后一路回车，使用默认值即可，是否设置密码自己选择。</p><p>如果一切顺利的话，可以在用户主目录里找到<code>.ssh</code>目录，里面有私钥<code>id_rsa</code>和公钥<code>id_rsa.pub</code>两个文件。</p><h3 id=42-登陆github>4.2 登陆GitHub</h3><p>点击右上角头像，打开<code>Settings——>SSH and GPG Keys——>New SSH Key</code></p><p>填上任意Title，在Key文本框里粘贴<code>id_rsa.pub</code>文件的内容，然后点击<code>Add SSH key</code>就行了</p><p>GitHub需要SSH Key识别出你推送的提交确实是你推送的，而不是别人冒充的。当然，GitHub允许添加多个Key。假定有若干电脑，只要把每台电脑的Key都添加到GitHub，就可以在每台电脑上往GitHub推送了。</p><h3 id=43-创建远程仓库>4.3 创建远程仓库</h3><p>首先在Github创建一个<strong>同名仓库</strong></p><p><img src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20180420_3A5tOA.png alt=新建仓库>
<img src=https://user-images.githubusercontent.com/26682846/71865229-126b2800-313d-11ea-928e-ee03fc5ffdd1.png alt=新建仓库></p><p>创建完成后跳转界面给我们提供了三个选择</p><ul><li><p>&mldr;or create a new repository on the command line</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#a2f>echo</span> <span style=color:#b44>&#34;# gittest&#34;</span> &gt;&gt; README.md
git init
git add README.md
git commit -m <span style=color:#b44>&#34;first commit&#34;</span>
git remote add origin https://github.com/shuzang/gittest.git
git push -u origin master
</code></pre></div></li><li><p>&mldr;or push an existing repository from the command line</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git remote add origin https://github.com/shuzang/gittest.git
git push -u origin master
</code></pre></div></li><li><p>&mldr;or import code from another repository</p><p>You can initialize this repository with code from a Subversion, Mercurial, or TFS project.</p></li></ul><p>第一个选项基本就是没有本地仓库的情况下我们要做的所有事情，不过现在我们已经有了本地仓库，所以选择第二个选项，将本地已存在的gittest仓库关联到Github。</p><p>按提示执行命令即可</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git remote add origin https://github.com/shuzang/gittest.git
$ git push -u origin master
Enumerating objects: 6, <span style=color:#a2f;font-weight:700>done</span>.
Counting objects: 100% <span style=color:#666>(</span>6/6<span style=color:#666>)</span>, <span style=color:#a2f;font-weight:700>done</span>.
Delta compression using up to <span style=color:#666>4</span> threads
Compressing objects: 100% <span style=color:#666>(</span>2/2<span style=color:#666>)</span>, <span style=color:#a2f;font-weight:700>done</span>.
Writing objects: 100% <span style=color:#666>(</span>6/6<span style=color:#666>)</span>, <span style=color:#666>448</span> bytes | 448.00 KiB/s, <span style=color:#a2f;font-weight:700>done</span>.
Total <span style=color:#666>6</span> <span style=color:#666>(</span>delta 0<span style=color:#666>)</span>, reused <span style=color:#666>0</span> <span style=color:#666>(</span>delta 0<span style=color:#666>)</span>
To https://github.com/shuzang/gittest.git
 * <span style=color:#666>[</span>new branch<span style=color:#666>]</span>      master -&gt; master
Branch <span style=color:#b44>&#39;master&#39;</span> <span style=color:#a2f>set</span> up to track remote branch <span style=color:#b44>&#39;master&#39;</span> from <span style=color:#b44>&#39;origin&#39;</span>.
</code></pre></div><p>返回的结果告诉我们分支master设置为跟踪来自origin的远程分支master，代码已推送到远程仓库。此时查看远程仓库如下</p><p><img src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20180420_3A5DfS.png alt=gittest仓库></p><p>点击左侧中间的<code>2 commits</code>可以查看提交的具体情况</p><p><img src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20180420_3A52mn.png alt=提交信息></p><p>继续点击每个具体的提交可以查看代码或文件的改动</p><p><img src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20180420_3A5opF.png alt="add a line"></p><p>查看别人的代码时，可以从这里查看一次次提交的改动和commit信息，有助于帮助我们学习别人的代码和编写思路</p><p>以后编辑和提交代码，主体就三个命令</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git add .
$ git commit -m <span style=color:#b44>&#34;commit message&#34;</span>
$ git push origin master
</code></pre></div><p>其它的git命令都是辅助，之后会慢慢介绍</p><h3 id=44-从远程仓库克隆到本地>4.4 从远程仓库克隆到本地</h3><p>换到新电脑或者不是自己从头新建仓库，而是使用别人的仓库进行合作开发，使用<code>git clone</code>命令，</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git clone 仓库地址
</code></pre></div><p>如果是下载某个指定分支的内容，命令为</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git clone -b 分支名 仓库地址
</code></pre></div><h2 id=5-历史版本>5. 历史版本</h2><p>修改的次数会逐渐变多，随着时间的流逝，我们完全不会记得每次修改了哪些内容，当然，git的出现就是为了帮我们解决这个问题，所以理所当然的会有查看历史版本的能力，以及回退到某个版本的能力，云端查看历史版本如上节所述，本地命令行如何查看在本节详细解释，以及介绍如果丢弃错误的提交。</p><h3 id=51-查看历史版本>5.1 查看历史版本</h3><p>使用 <code>git log</code> 命令可以查看历史改动</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git log
commit ae3c27f99068e6eb301fd7d28960b97ec56b9733 <span style=color:#666>(</span>HEAD -&gt; master, origin/master<span style=color:#666>)</span>
Author: shuzang &lt;844327696@qq.com&gt;
Date:   Tue Jan <span style=color:#666>7</span> 10:52:14 <span style=color:#666>2020</span> +0800

    add a line

commit a91c24851ecd74e933bd638fd30773050bd7c692
Author: shuzang &lt;844327696@qq.com&gt;
Date:   Tue Jan <span style=color:#666>7</span> 10:42:01 <span style=color:#666>2020</span> +0800

    first commit
</code></pre></div><p>提示内容是按从近到远的顺序把所有改动列举一遍，包括用户名、邮箱、修改日期，当时添加的message信息，不想看名称、邮箱和日期可以使用参数简化显示，如下：</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git log --pretty<span style=color:#666>=</span>oneline
ae3c27f99068e6eb301fd7d28960b97ec56b9733 <span style=color:#666>(</span>HEAD -&gt; master, origin/master<span style=color:#666>)</span> add a line
a91c24851ecd74e933bd638fd30773050bd7c692 first commit
</code></pre></div><p>也可以用以下命令查看参数使用方式</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git log --help
</code></pre></div><p>提示内容中每次修改最前面的一串长字符是版本号（commit id），用十六进制表示，用来代表我们每次修改的版本</p><h3 id=52-回退>5.2 回退</h3><p>首先，在git中，用<code>HEAD</code>表示当前版本，上一个版本就是<code>HEAD^</code>，上上一个版本就是<code>HEAD^^</code>，当然历史版本数多的时候写<code>^</code>写不过来，所以写成<code>HEAD~number</code>，如往上100个版本就是<code>HEAD-100</code><br>回退命令为<code>git reset</code>，比如，回退到上一个版本</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git  reset --hard HEAD^
HEAD is now at a91c248 first commit
</code></pre></div><p>然后我们就看到真的变回去了，如果记下了版本号，我们还可以再跳回最后一个修改版本，也就是说，我们突然不想回退了，或者退多了</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git reset  --hard ae3c
HEAD is now at ae3c27f add a line
</code></pre></div><p><code>ae3c</code>为其版本号，但版本号没必要写全，因为它的作用是为了区分各版本，所以只要找到第一个不相同的那位字母，写到那里就行了</p><p>版本切换的速度非常快，主要是因为<code>HEAD</code>只是一个指向当前版本的指针，跳转版本的时候也仅仅移动指针</p><p>在不记得版本号的情况下，git还提供了<code>git reflog</code>命令记录每次<code>HEAD</code>指针移动</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git reflog
ae3c27f <span style=color:#666>(</span>HEAD -&gt; master, origin/master<span style=color:#666>)</span> HEAD@<span style=color:#666>{</span>0<span style=color:#666>}</span>: reset: moving to ae3c
a91c248 HEAD@<span style=color:#666>{</span>1<span style=color:#666>}</span>: reset: moving to HEAD^
ae3c27f <span style=color:#666>(</span>HEAD -&gt; master, origin/master<span style=color:#666>)</span> HEAD@<span style=color:#666>{</span>2<span style=color:#666>}</span>: commit: add a line
a91c248 HEAD@<span style=color:#666>{</span>3<span style=color:#666>}</span>: commit <span style=color:#666>(</span>initial<span style=color:#666>)</span>: first commit
</code></pre></div><p>该命令会显示每次修改版本的版本号</p><h2 id=6-三大工作区域>6. 三大工作区域</h2><p>使用 Git 最好理解它的三大工作区域：工作目录、暂存区和版本仓库。</p><p><strong>工作目录</strong>就是代码编辑的主体目录，存放整个项目的源码和相关文件。</p><p><strong>暂存区</strong>也叫做索引，用来跟踪工作目录的所有文件。事实上，工作目录中的每一个文件要么处于已跟踪状态，要么处于未跟踪状态，执行这个跟踪动作的，就是索引。索引所对应的静态文件是工作目录下 <code>.git</code> 隐藏文件夹中的 <code>index</code> 文件，其中记录每个已跟踪文件的文件名、文件时间戳、文件长度等元数据信息。需要注意的是，索引并不保持文件的具体内容，只记录文件的改动，文件的具体内容保持在版本仓库中。<code>git add</code> 命令可以将改变提交给暂存区。</p><p><strong>版本仓库</strong>就是本地电脑具体保存所有代码的地方。具体位置是 <code>.git/objects</code> 文件夹，暂存区的文件经过 <code>git commit</code> 命令可以提交到本地版本仓库。本地版本仓库需要和远程的云端仓库（也就是存在 Github 服务器里的仓库文件）同步，如果有修改，需要推送到远程仓库，如果远程有别人的提交，需要拉取和本地代码合并。</p><p>版本库里有暂存区，还有自动创建的第一个分支master，以及指向master的一个指针叫HEAD
<img src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20180420_3AIQns.png alt=工作区与版本库图解>
<code>git add</code>实际上是把文件修改添加到暂存区；
<code>git commit</code>实际上是把暂存区的所有内容提交到当前分支</p><p>在推送到远程仓库之前，一切修改都有挽救的机会</p><h3 id=61-丢弃修改>6.1 丢弃修改</h3><p><strong>场景1</strong>：当改乱了工作区某个文件的内容，想直接丢弃工作区的修改时，使用命令</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#080;font-style:italic># 撤销单个文件修改</span>
$ git checkout -- file
<span style=color:#080;font-style:italic># 撤销从上次提交后所有修改</span>
$ git checkout -- *
</code></pre></div><p><strong>场景2</strong>：当不但改乱了工作区某个文件的内容，还添加到了暂存区时，想丢弃修改，分两步，第一步用命令</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git reset HEAD file
$ git checkout -- file
</code></pre></div><p><strong>场景3</strong>：已经提交了不合适的修改到版本库时，想要撤销本次提交，参考上一节进行版本回退</p><p>最后，如果代码已经提交到了远程仓库，那么只能进行修复然后进行新的提交</p><h3 id=62-删除文件>6.2 删除文件</h3><p>一般情况，是直接在文件夹中用rm命令删除，但这样工作区和版本库就不一致了</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ rm hellogit.txt
$ git status
On branch master
Your branch is up to date with <span style=color:#b44>&#39;origin/master&#39;</span>.

Changes not staged <span style=color:#a2f;font-weight:700>for</span> commit:
  <span style=color:#666>(</span>use <span style=color:#b44>&#34;git add/rm &lt;file&gt;...&#34;</span> to update what will be committed<span style=color:#666>)</span>
  <span style=color:#666>(</span>use <span style=color:#b44>&#34;git checkout -- &lt;file&gt;...&#34;</span> to discard changes in working directory<span style=color:#666>)</span>

        deleted:    hellogit.txt

no changes added to commit <span style=color:#666>(</span>use <span style=color:#b44>&#34;git add&#34;</span> and/or <span style=color:#b44>&#34;git commit -a&#34;</span><span style=color:#666>)</span>
$ git add .
$ git commit -m <span style=color:#b44>&#34;remove hellogit.txt&#34;</span>
</code></pre></div><p>可以用命令恢复</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git checkout -- hellogit.txt
</code></pre></div><p>正常从版本库中删除该文件，用<code>git rm</code>命令，并且<code>git commit</code></p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git rm hellogit.txt
rm <span style=color:#b44>&#39;hellogit.txt&#39;</span>
$ git status
On branch master
Your branch is up to date with <span style=color:#b44>&#39;origin/master&#39;</span>.

Changes to be committed:
  <span style=color:#666>(</span>use <span style=color:#b44>&#34;git reset HEAD &lt;file&gt;...&#34;</span> to unstage<span style=color:#666>)</span>

        deleted:    hellogit.txt

$ git commit -m <span style=color:#b44>&#34;remove hellogit.txt&#34;</span>
</code></pre></div><p>两者的区别是直接删除需要额外执行<code>git add</code>命令，而<code>git rm</code>删除后可以直接<code>commit</code>，当然，其实没有多少影响，具体用什么方法，自己选择就好。</p><h2 id=参考与扩展>参考与扩展</h2><p>[1] <a href=https://www.liaoxuefeng.com/wiki/896043488029600>廖雪峰的官方网站-git教程</a></p><p>[2] <a href=https://backlog.com/git-tutorial/cn/intro/intro1_1.html>猴子都能懂的git入门</a></p><p>[3] <a href=https://lab.github.com/>Github Learning Lab</a></p><p>[4] <a href=https://hellogithub.com/>Hellogithub</a></p></div><footer class=post-footer><div class=post-tags><a href=/tags/git rel=tag title=git>#git#</a></div><div class=addthis_inline_share_toolbox></div><div class=post-nav><div class=article-copyright><div class=article-copyright-info><p><span>声明：</span>Git入门-基本概念, 基本原理, 安装使用</p><p><span>链接：</span>https://shuzang.github.io/2018/04/git-learning-getting-started/</p><p><span>作者：</span>书藏</p><p><span>声明： </span>本博客文章除特别声明外，均采用 <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ target=_blank style=text-decoration:underline>CC BY-NC-SA 3.0</a>许可协议，转载请注明出处！</p></div></div><div class=clear></div></div><div class=reward-qr-info><div>创作实属不易，如有帮助，那就打赏博主些许茶钱吧 ^_^</div><button id=rewardButton disable=enable onclick="var qr=document.getElementById('QR');if(qr.style.display==='none'){qr.style.display='block';}else{qr.style.display='none'}">
<span>赏</span></button><div id=QR style=display:none><div id=wechat style=display:inline-block><img id=wechat_qr src=/img/wechat-pay.png alt="WeChat Pay"><p>微信打赏</p></div><div id=alipay style=display:inline-block><img id=alipay_qr src=/img/ali-pay.png alt=Alipay><p>支付宝打赏</p></div></div></div><div class=post-nav><div class="post-nav-next post-nav-item"><a href=https://shuzang.github.io/2018/04/git-learning-improvement/ rel=next title="Git提高-分支管理, 多人协作, 标签管理, gitignore, commit信息"><i class="fa fa-chevron-left"></i>Git提高-分支管理, 多人协作, 标签管理, gitignore, commit信息</a></div><div class="post-nav-prev post-nav-item"><a href=https://shuzang.github.io/2018/04/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E9%80%89%E6%8B%A9/ rel=prev title=编程语言选择>编程语言选择
<i class="fa fa-chevron-right"></i></a></div></div><div id=wcomments></div></footer></article></section></div></div><div class=sidebar-toggle><div class=sidebar-toggle-line-wrap><span class="sidebar-toggle-line sidebar-toggle-line-first"></span><span class="sidebar-toggle-line sidebar-toggle-line-middle"></span><span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id=sidebar class=sidebar><div class=sidebar-inner><section class="site-overview sidebar-panel sidebar-panel-active"><div class="site-author motion-element" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image src=/images/avatar.png alt=书藏><p class=site-author-name itemprop=name>书藏</p><p class="site-description motion-element" itemprop=description></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href=/post/><span class=site-state-item-count>334</span>
<span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href=/categories/><span class=site-state-item-count>7</span>
<span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/><span class=site-state-item-count>23</span>
<span class=site-state-item-name>标签</span></a></div></nav><div class="links-of-author motion-element"><span class=links-of-author-item><a href=https://github.com/shuzang/ target=_blank title=GitHub><i class="fa fa-fw fa-github"></i>GitHub</a></span></div><div class="tagcloud-of-blogroll motion-element tagcloud-of-blogroll-inline"><div class=tagcloud-of-blogroll-title><i class="fa fa-fw fa-tags"></i>标签云</div><ul class=tagcloud-of-blogroll-list><li class=tagcloud-of-blogroll-item><a href=/tags/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0>论文笔记</a></li><li class=tagcloud-of-blogroll-item><a href=/tags/%E4%B9%A6%E8%97%8F%E7%9A%84%E7%94%9F%E6%B4%BB%E5%91%A8%E5%88%8A>书藏的生活周刊</a></li><li class=tagcloud-of-blogroll-item><a href=/tags/%E7%A7%91%E7%A0%94%E8%AE%B0%E5%BD%95>科研记录</a></li><li class=tagcloud-of-blogroll-item><a href=/tags/go%E8%AF%AD%E6%B3%95>Go语法</a></li><li class=tagcloud-of-blogroll-item><a href=/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80>计算机基础</a></li><li class=tagcloud-of-blogroll-item><a href=/tags/%E6%9D%82%E8%B0%88>杂谈</a></li><li class=tagcloud-of-blogroll-item><a href=/tags/%E5%8C%BA%E5%9D%97%E9%93%BE>区块链</a></li><li class=tagcloud-of-blogroll-item><a href=/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95>数据结构与算法</a></li><li class=tagcloud-of-blogroll-item><a href=/tags/%E7%94%9F%E6%B4%BB%E6%8A%80%E8%83%BD>生活技能</a></li><li class=tagcloud-of-blogroll-item><a href=/tags/go%E5%AE%9E%E6%88%98>Go实战</a></li></ul></div></section></div></aside></div></main><footer id=footer class=footer><div class=footer-inner><div class=copyright><span class=copyright-year>&copy; 2018 - 2022</span>
<span class=with-love><i class="fa fa-heart"></i></span><span class=copyright-author>书藏的博客</span></div><div class=powered-info><span class=powered-by>Powered by - <a class=powered-link href=//gohugo.io target=_blank title=hugo>Hugo v0.63.2</a></span>
<span class=separator-line>/</span>
<span class=theme-info>Theme by - <a class=powered-link href=//github.com/elkan1788/hugo-theme-next target=_blank>NexT</a></span></div><div class=vistor-info><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><span class=site-uv><i class="fa fa-user"></i><span class=busuanzi-value id=busuanzi_value_site_uv></span></span><span class=separator-line>/</span>
<span class=site-pv><i class="fa fa-eye"></i><span class=busuanzi-value id=busuanzi_value_site_pv></span></span></div></div></footer><div class=back-to-top><i class="fa fa-arrow-up"></i><span id=scrollpercent><span>0</span>%</span></div></div><script type=text/javascript src=//cdn.bootcdn.net/ajax/libs/jquery/2.1.4/jquery.min.js></script><script type=text/javascript src=/js/search.js></script><script type=text/javascript src=/js/affix.js></script><script type=text/javascript src=/js/scrollspy.js></script><script type=text/javascript>function detectIE(){var ua=window.navigator.userAgent;var msie=ua.indexOf('MSIE ');var trident=ua.indexOf('Trident/');var edge=ua.indexOf('Edge/');if(msie>0||trident>0||edge>0){return-1;}
return 1;}
function getCntViewHeight(){var docHeight=$('#content').height(),winHeight=$(window).height(),cntViewHeight=(docHeight>winHeight)?(docHeight-winHeight):($(document).height()-winHeight);return cntViewHeight;}
function getScrollbarWidth(){var $div=$('<div />').addClass('scrollbar-measure').prependTo('body');var div=$div[0];var scrollbarWidth=div.offsetWidth-div.clientWidth;$div.remove();return scrollbarWidth;}
function registerBackTop(){var THRESHOLD=50;var $top=$('.back-to-top');$(window).on('scroll',function(){$top.toggleClass('back-to-top-on',window.pageYOffset>THRESHOLD);var scrollTop=$(window).scrollTop();var cntViewHeight=getCntViewHeight();var scrollPercent=(scrollTop)/(cntViewHeight);var scrollPercentRounded=Math.round(scrollPercent*100);var scrollPercentMaxed=(scrollPercentRounded>100)?100:scrollPercentRounded;$('#scrollpercent>span').html(scrollPercentMaxed);});$top.on('click',function(){$("html,body").animate({scrollTop:0,screenLeft:0,},800);});}
function initScrollSpy(){var tocSelector='.post-toc';var $tocElement=$(tocSelector);var activeCurrentSelector='.active-current';$tocElement.on('activate.bs.scrollspy',function(){var $currentActiveElement=$(tocSelector+' .active').last();removeCurrentActiveClass();$currentActiveElement.addClass('active-current');}).on('clear.bs.scrollspy',removeCurrentActiveClass);$('body').scrollspy({target:tocSelector});function removeCurrentActiveClass(){$(tocSelector+' '+activeCurrentSelector).removeClass(activeCurrentSelector.substring(1));}}
function initAffix(){var headerHeight=$('.header-inner').height();var footerOffset=parseInt($('.main').css('padding-bottom'),10);var sidebarTop=headerHeight+10;$('.sidebar-inner').affix({offset:{top:sidebarTop,bottom:footerOffset}});$(document).on('affixed.bs.affix',function(){updateTOCHeight(document.body.clientHeight-100);});}
function initTOCDimension(){var updateTOCHeightTimer;$(window).on('resize',function(){updateTOCHeightTimer&&clearTimeout(updateTOCHeightTimer);updateTOCHeightTimer=setTimeout(function(){var tocWrapperHeight=document.body.clientHeight-100;updateTOCHeight(tocWrapperHeight);},0);});updateTOCHeight(document.body.clientHeight-100);var scrollbarWidth=getScrollbarWidth();$('.post-toc').css('width','calc(100% + '+scrollbarWidth+'px)');}
function updateTOCHeight(height){height=height||'auto';$('.post-toc').css('max-height',height);}
$(function(){var sidebarTop=$('.header-inner').height()+10;$('#sidebar').css({'margin-top':sidebarTop}).show();var sidebarMt=parseInt($('#sidebar').css('margin-top'));var sidebarInHeight=parseInt($('.sidebar-inner').css('height'));var sideHeight=sidebarMt+sidebarInHeight;var contentHeight=$('.content-wrap').height();if(contentHeight<sideHeight){$('.content-wrap').css('min-height',sideHeight);}
$('.site-nav-toggle').on('click',function(){var $siteNav=$('.site-nav');var $toggleLine=$('.toggle');var ON_CLASS_NAME='site-nav-on';var CLOSE_CLASS_NAME='toggle-close';var isSiteNavOn=$siteNav.hasClass(ON_CLASS_NAME);var animateAction=isSiteNavOn?'slideUp':'slideDown';var animateCallback=isSiteNavOn?'removeClass':'addClass';$siteNav.stop()[animateAction]('normal',function(){$siteNav[animateCallback](ON_CLASS_NAME);$toggleLine[animateCallback](CLOSE_CLASS_NAME);});});registerBackTop();initScrollSpy();initAffix();initTOCDimension();$('.sidebar-nav-toc').click(function(){$(this).addClass('sidebar-nav-active');$(this).next().removeClass('sidebar-nav-active');$('.'+$(this).next().attr('data-target')).toggle(500);$('.'+$(this).attr('data-target')).toggle(500);});$('.sidebar-nav-overview').click(function(){$(this).addClass('sidebar-nav-active');$(this).prev().removeClass('sidebar-nav-active');$('.'+$(this).prev().attr('data-target')).toggle(500);$('.'+$(this).attr('data-target')).toggle(500);});});</script><script src=//cdn.bootcdn.net/ajax/libs/imageviewer/0.1.0/viewer.min.js></script><script type=text/javascript>$(function(){$('.post-body').viewer();});</script><script type=text/javascript>$(function(){if(detectIE()>0){$.getScript(document.location.protocol+'//cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js',function(){new Waline({el:'#wcomments',visitor:true,avatar:'wavatar',avatarCDN:'https://sdn.geekzu.org/avatar/',avatarForce:!1,wordLimit:'200',placeholder:' 欢迎留下您的宝贵建议，请填写您的昵称和邮箱便于后续交流. ^_^ ',requiredFields:['nick','mail'],serverURL:"Your WalineSerURL",lang:"zh-cn"});});}else{$('#wcomments').html('抱歉，Waline插件不支持IE或Edge，建议使用Chrome浏览器。');}});</script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=Your%20AddthisId"></script><script>(function(){var bp=document.createElement('script');var curProtocol=window.location.protocol.split(':')[0];if(curProtocol==='https'){bp.src='https://zz.bdstatic.com/linksubmit/push.js';}
else{bp.src='http://push.zhanzhang.baidu.com/push.js';}
var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(bp,s);})();</script></body></html>